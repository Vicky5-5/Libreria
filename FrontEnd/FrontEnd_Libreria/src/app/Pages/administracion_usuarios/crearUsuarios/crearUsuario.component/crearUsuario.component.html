<h1>Crear Nuevo Usuario</h1>


<mat-dialog-content>
  <form [formGroup]="formRegistro">
    <!-- Nombre -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="nombre" type="text" required>
      <mat-error *ngIf="formRegistro.get('nombre')?.hasError('required')">
        El nombre es obligatorio
      </mat-error>
      <mat-error *ngIf="formRegistro.get('nombre')?.hasError('minlength')">
        Mínimo 3 caracteres
      </mat-error>
    </mat-form-field>

    <!-- Correo -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Correo Electrónico</mat-label>
      <input matInput formControlName="email" type="email" required>
      <mat-error *ngIf="formRegistro.get('email')?.hasError('required')">
        El correo es obligatorio
      </mat-error>
      <mat-error *ngIf="formRegistro.get('email')?.hasError('email')">
        Formato de correo inválido
      </mat-error>
    </mat-form-field>

    <!-- Contraseña -->
<mat-form-field appearance="fill" class="full-width">
  <mat-label>Contraseña</mat-label>
  <input matInput formControlName="password" type="password" required>
  <mat-error *ngIf="formRegistro.get('password')?.hasError('required')">
    La contraseña es obligatoria
  </mat-error>
  <mat-error *ngIf="formRegistro.get('password')?.hasError('minlength')">
    Mínimo 6 caracteres
  </mat-error>
  <mat-error *ngIf="formRegistro.get('password')?.hasError('passwordComplexity')">
    Debe incluir mayúscula, minúscula, número y símbolo
  </mat-error>
</mat-form-field>


    <!-- Confirmar contraseña -->
    <mat-form-field appearance="fill" class="full-width">
  <mat-label>Confirmar contraseña</mat-label>
  <input matInput formControlName="confirmPassword" type="password" required>
  <mat-error *ngIf="formRegistro.get('confirmPassword')?.hasError('required')">
    Debes confirmar la contraseña
  </mat-error>
  <mat-error *ngIf="formRegistro.hasError('mismatch')">
    Las contraseñas no coinciden
  </mat-error>
</mat-form-field>


    <!-- Es Administrador -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>¿Es administrador?</mat-label>
      <mat-select formControlName="admin">
        <mat-option [value]="true">Sí</mat-option>
        <mat-option [value]="false">No</mat-option>
      </mat-select>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="volver()">Cancelar</button>
  <button mat-raised-button color="primary" (click)="guardar()" [disabled]="formRegistro.invalid">
    Crear
  </button>
</mat-dialog-actions>